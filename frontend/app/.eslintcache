[{"/home/darentang/projects/real-life-among-us/frontend/app/src/components/EndGame.js":"1","/home/darentang/projects/real-life-among-us/frontend/app/src/index.js":"2","/home/darentang/projects/real-life-among-us/frontend/app/src/App.js":"3","/home/darentang/projects/real-life-among-us/frontend/app/src/utilities/socket-context.js":"4","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Console.js":"5","/home/darentang/projects/real-life-among-us/frontend/app/src/utilities/lobbies.js":"6","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Vote.js":"7","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Game.js":"8","/home/darentang/projects/real-life-among-us/frontend/app/src/reportWebVitals.js":"9","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Login.js":"10","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Dev.js":"11","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Lobby.js":"12","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Connect.js":"13"},{"size":1640,"mtime":1608726910467,"results":"14","hashOfConfig":"15"},{"size":555,"mtime":1608470147241,"results":"16","hashOfConfig":"15"},{"size":3243,"mtime":1608707478382,"results":"17","hashOfConfig":"15"},{"size":102,"mtime":1608120293638,"results":"18","hashOfConfig":"15"},{"size":14533,"mtime":1608905225800,"results":"19","hashOfConfig":"15"},{"size":23923,"mtime":1608546501971,"results":"20","hashOfConfig":"15"},{"size":4122,"mtime":1608441613290,"results":"21","hashOfConfig":"15"},{"size":18957,"mtime":1608905438095,"results":"22","hashOfConfig":"15"},{"size":362,"mtime":1607673413988,"results":"23","hashOfConfig":"15"},{"size":7005,"mtime":1608692686353,"results":"24","hashOfConfig":"15"},{"size":5805,"mtime":1608722401939,"results":"25","hashOfConfig":"15"},{"size":4286,"mtime":1608430632550,"results":"26","hashOfConfig":"15"},{"size":3348,"mtime":1608722239554,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"8efhwh",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":26,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"33"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"33"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"33"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"33"},"/home/darentang/projects/real-life-among-us/frontend/app/src/components/EndGame.js",["64"],"import React, {useState, useEffect} from 'react';\nimport Container from 'react-bootstrap/esm/Container';\n\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\n\nimport { useHistory } from \"react-router-dom\";\n\nfunction EndGame() {\n    const [info, setInfo] = useState({who: '', imposters: [], success: false})\n    const [success, setSuccess] = useState(false);\n    const history = useHistory();\n    useEffect(() => {\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({})\n        };\n\n        fetch(sessionStorage.getItem('api-host')+'api/who_won', requestOptions).then(response => response.json()).then((data)=>{\n            console.log(data);\n            if (data.success) {\n                setSuccess(true);\n                setInfo(data);\n            } else {\n                history.push('/');\n            }\n        })\n    }, []);\n    return (\n        <Container>\n            <Jumbotron>\n                {success &&\n                    <div>\n                        <h1>This is the End!</h1>\n        \n                        <p>The {info.who} won. </p>\n                        <p>The imposters are {info.imposters.join(',')}</p>\n                        <Button onClick={()=>history.push('/')}>\n                            Return\n                        </Button>\n                    </div>\n                }\n                {!success &&\n                    <h1>Oops the game has not ended.</h1>\n                }\n            </Jumbotron>\n        </Container>\n    );\n}\n\nexport default EndGame;","/home/darentang/projects/real-life-among-us/frontend/app/src/index.js",[],["65","66"],"/home/darentang/projects/real-life-among-us/frontend/app/src/App.js",["67","68"],"\nimport React, {useEffect, useState} from \"react\";\nimport Login from './components/Login.js'\nimport Lobby from './components/Lobby.js'\nimport Console from './components/Console.js'\nimport Game from './components/Game.js'\nimport Dev from './components/Dev.js'\nimport Vote from './components/Vote.js'\nimport EndGame from './components/EndGame.js'\nimport Connect from './components/Connect.js'\n\nimport Navbar from 'react-bootstrap/Navbar'\nimport Button from 'react-bootstrap/Button'\n\nimport SocketContext from './utilities/socket-context.js';\nimport io from 'socket.io-client';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useHistory\n} from \"react-router-dom\";\n\nfunction App() {\n\n  const [socket, setSocket] = useState(null);\n  const [address, setAddress] = useState(null);\n\n  const history = useHistory();\n  \n\n  useEffect(() => {\n    if (sessionStorage.getItem('api-host') != null) {\n      setSocket(io(sessionStorage.getItem('api-host')));\n      console.log('connecting', socket);\n    } \n  }, [address]);\n\n  const logoutCallback = () => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({class: 'player', token: sessionStorage.getItem('game-token')})\n    };\n\n    fetch(sessionStorage.getItem('api-host')+'api/delete', requestOptions);\n      \n    sessionStorage.removeItem('game-token');\n    sessionStorage.removeItem('api-host');\n    \n    window.location.href = \"/\";\n  }\n\n\n  return (\n    <div>\n    <Navbar bg=\"primary\" variant=\"dark\" sticky=\"top\">\n        <Navbar.Brand>Imposter Tang</Navbar.Brand>\n        <Navbar.Collapse className=\"justify-content-end\">\n            {(sessionStorage.getItem('api-host') == null) &&\n              <Navbar.Text>\n              Not Connected\n              </Navbar.Text>\n            }\n            {(sessionStorage.getItem('api-host') != null) &&\n              <div>\n                <Navbar.Text style={{'marginRight': '2vh'}}>\n                  Connected\n                </Navbar.Text>\n                <Button size=\"sm\" variant=\"secondary\" onClick={logoutCallback}>\n                  Logout\n                </Button>\n              </div>\n            }\n        </Navbar.Collapse>\n    </Navbar>\n    <div className=\"main\">\n      {(sessionStorage.getItem('api-host') == null) &&\n        <Connect setAddress={setAddress} />\n      }\n      {(sessionStorage.getItem('api-host') != null && socket != null) &&\n      <SocketContext.Provider value={socket}>\n          <Router>\n            <Switch>\n              <Route exact path=\"/\">\n                <Login />\n              </Route>\n              <Route path=\"/lobby\">\n                <Lobby />\n              </Route>\n              <Route path=\"/game\">\n                <Game />\n              </Route>\n              <Route path=\"/console\">\n                <Console />\n              </Route>\n              <Route path=\"/dev\">\n                <Dev />\n              </Route>\n              <Route path=\"/vote\">\n                <Vote />\n              </Route>\n              <Route path=\"/end\">\n                <EndGame />\n              </Route>\n            </Switch>\n          </Router>\n        </SocketContext.Provider>\n      }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","/home/darentang/projects/real-life-among-us/frontend/app/src/utilities/socket-context.js",[],"/home/darentang/projects/real-life-among-us/frontend/app/src/components/Console.js",["69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94"],"/home/darentang/projects/real-life-among-us/frontend/app/src/utilities/lobbies.js",["95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114"],"/home/darentang/projects/real-life-among-us/frontend/app/src/components/Vote.js",["115","116","117","118","119","120","121","122","123"],"import React, { useEffect, useState, useContext } from \"react\";\n// import io from 'socket.io-client';\nimport io from 'socket.io-client';\nimport Container from 'react-bootstrap/Container';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {PlayerVote, Timer} from \"../utilities/lobbies.js\"\nimport SocketContext from '../utilities/socket-context'\n\nfunction Vote() {\n    const [tally, setTally] = useState({tally: [], meeting_state: 'discussion'});\n    const [profile, setProfile] = useState({is_imposter: false, imposter_list: [], username: ''});\n    const [disable, setDisable] = useState(false);\n    const [showResults, setShowResults] = useState(false);\n    const [result, setResult] = useState('');\n\n    const handleClose = () => setShowResults(false);\n\n    const token = sessionStorage.getItem('game-token');\n    const history = useHistory();\n\n    // no token then return to homepage\n    if (token == null) {\n        history.push('/');\n    }\n\n    // let socket;\n    const socket = useContext(SocketContext);\n\n    useEffect(()=> {\n        socket.on('end meeting message', (data) => {\n            setShowResults(true);\n            setResult(data.message);\n        })\n    });\n    \n    useEffect(() => {\n        // send a go online signal and request user list\n        socket.emit(\"go online\", {token: token, class: 'player', id:-1});\n\n\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({token: token})\n        };\n\n        fetch(sessionStorage.getItem('api-host')+'api/player_profile', requestOptions).then(response => response.json()).then((data) => {\n            setProfile(data);\n            if (!data.success) {\n                console.log('pushing lobby');\n                history.push('/lobby');\n            }\n\n            if (data.game_state != \"meeting\") {\n                console.log('pushing game 1');\n                history.push('/game');\n            }\n        });\n    }, []);    \n\n    useEffect(() => {\n        // when receiving a lobby list, update playerList state.\n        // If not successful, return to home page.\n        socket.on(\"meeting update\", (data) => {\n            setTally(data);\n            if (data.meeting_state != 'vote') {\n                setDisable(true);\n            } else {\n                setDisable(false);\n            }\n        });\n        for (var i in tally.tally) {\n            if (tally.tally[i].id == profile.id && tally.tally[i].vote_for != null) {\n                setDisable(true);\n            }\n        }\n\n    });\n\n\n    useEffect(() => {\n        if (socket){\n            socket.on('change state', (data) => {\n                if (data.state == 'game'){\n                    console.log('pushing game 2');\n                    history.push('/game');\n                }\n\n            });\n        }\n    });\n\n\n    return(\n        <Container>\n            {(tally.meeting_state == \"start\") &&\n                <Jumbotron>\n                    <h1>Waiting for meeting to start...</h1>\n                </Jumbotron>\n            }\n            {(tally.meeting_state != \"start\") &&\n    \n                <Container>\n                    <Timer socket={socket} tally={tally}/>\n                    <PlayerVote tally={tally} selfName={profile.username} token={token} disable={disable}/>\n                </Container>\n            }\n\n            <Modal show={showResults} onClose={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        Result\n                    </Modal.Title>\n                    </Modal.Header>\n                        <Modal.Body>\n                            {result}\n                        </Modal.Body>\n                    <Modal.Footer>\n                    <Button variant=\"primary\" onClick={handleClose}>\n                        Ok\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </Container>\n    );\n}\n\n\nexport default Vote;","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Game.js",["124","125","126","127","128","129","130","131","132","133"],"/home/darentang/projects/real-life-among-us/frontend/app/src/reportWebVitals.js",[],["134","135"],"/home/darentang/projects/real-life-among-us/frontend/app/src/components/Login.js",["136","137","138","139","140","141"],"import React, { useEffect, useState, useContext } from \"react\";\n\n// boostrap components\nimport Container from 'react-bootstrap/Container'\nimport Jumotron from 'react-bootstrap/Jumbotron'\nimport Form from 'react-bootstrap/Form'\nimport FormGroup from 'react-bootstrap/FormGroup'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport ToggleButton from 'react-bootstrap/ToggleButton'\n\nimport {useForm} from 'react-hook-form';\n\nimport { useHistory } from \"react-router-dom\";\n\n\n\n\n// Login Page\nfunction Login() {\n    // state variables\n    const [showError, setShowError] = useState(false);\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const [inputMode, setInputMode] = useState(\"1\");\n\n    const {register, handleSubmit} = useForm();\n\n    const radios = [\n        {name: 'User', value:'1'},\n        {name: 'Console', value:'2'}\n    ];\n\n\n    // Open and close handles\n    const handleClose = () => setShowError(false);\n    const handleOpen = () => setShowError(true);\n\n    const history = useHistory();\n    const token = sessionStorage.getItem('game-token');\n\n\n\n\n    // submit username\n    const onSubmitUsername = (data) => {\n        // request options\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({username: data.username})\n        };\n\n        // send request to api\n        fetch(sessionStorage.getItem('api-host')+'api/add_user', requestOptions).then(response => response.json()).then(\n            data => {\n                console.log('HTTP POST SENT and RECIEVED'); \n                // if successful, save usertoken as cookie\n                if (data.success) {\n                    sessionStorage.setItem('game-token', data.token);\n                    sessionStorage.setItem('game-type', 'player');\n                    // redirect to lobby\n                    history.push('/lobby');\n                }\n                // else, open the modal\n                else {\n                    handleOpen();\n                    setErrorMessage(data.reason);\n                }\n            }\n        );\n    };\n\n    const onSubmitConsole = (data) => {\n        // request options\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({location: data.location, type: data.type})\n        };\n\n        // send request to api\n        fetch(sessionStorage.getItem('api-host')+'api/add_console', requestOptions).then(response => response.json()).then(\n            data => {\n                console.log('HTTP POST SENT and RECIEVED'); \n                // if successful, save usertoken as cookie\n                if (data.success) {\n                    sessionStorage.setItem('game-token', data.token);\n                    sessionStorage.setItem('game-type', 'console');\n                    // redirect to lobby\n                    history.push('/console');\n                }\n                // else, open the modal\n                else {\n                    handleOpen();\n                    setErrorMessage(data.reason);\n                }\n            }\n        );\n    };\n\n    useEffect(()=>{\n        if (token != null) {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({token: token})\n            };\n    \n            fetch(sessionStorage.getItem('api-host')+'api/player_profile', requestOptions).then(response => response.json()).then((data) => {\n                if (data.success) {\n                    if (data.type == 'player') {\n                        history.push('/lobby');\n                    } else if  (data.type == 'console'){\n                        history.push('/console');\n                    }\n                }\n            });\n        }\n    }, [])\n\n    useEffect(()=>{console.log('Input mode ' + inputMode);}, [inputMode]);\n\n\n    const playerForm = (\n        <Form onSubmit={handleSubmit(onSubmitUsername)}>\n            <FormGroup controlId=\"username-input\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Enter username\" name=\"username\" ref={register()}>\n                </Form.Control>\n            </FormGroup>\n            <Button variant=\"primary\" type=\"submit\" block>\n                Submit\n            </Button>\n        </Form>\n    );\n\n    const consoleForm = (\n        <Form onSubmit={handleSubmit(onSubmitConsole)}>\n            <FormGroup controlId=\"consol-loc\">\n                <Form.Label>Console Location</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Console Location\" name=\"location\" ref={register()}>\n                </Form.Control>\n            </FormGroup>\n            <FormGroup>\n                <Form.Label>Type</Form.Label>\n                <Form.Control as=\"select\" name=\"type\" ref={register()}>\n                    <option>Meeting Room</option>\n                    <option>Reactor</option>\n                </Form.Control>\n            </FormGroup>\n            <Button variant=\"primary\" type=\"submit\" block>\n                Submit\n            </Button>\n        </Form>\n    )\n\n    function InputForm(props) {\n        if (props.mode == '1') {\n            return playerForm;\n        } else if (props.mode == '2') {\n            return consoleForm;\n        }\n    }\n\n\n    return (\n        <Container>\n        <Jumotron className=\"Login-jumbo\">\n            <h1 className=\"App-header\">Real-Life Among Us</h1>\n            <ButtonGroup toggle>\n                {\n                    radios.map((radio, idx) => (\n                        <ToggleButton\n                            key={idx}\n                            variant=\"secondary\"\n                            type=\"radio\"\n                            value={radio.value}\n                            checked={inputMode === radio.value}\n                            onChange={(e) => setInputMode(e.currentTarget.value)}\n                        >\n                            {radio.name}\n                        </ToggleButton>\n                    ))\n                }\n            </ButtonGroup>\n            <InputForm mode={inputMode}/>\n\n        </Jumotron>\n\n            {/* username taken error */}\n            <Modal show={showError} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        Error   \n                    </Modal.Title>\n                    </Modal.Header>\n                        <Modal.Body>\n                            {errorMessage}\n                        </Modal.Body>\n                    <Modal.Footer>\n                    <Button variant=\"primary\" onClick={handleClose}>\n                        Ok\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        \n        </Container>\n    );\n}\n\nexport default Login;",["142","143"],"/home/darentang/projects/real-life-among-us/frontend/app/src/components/Dev.js",["144","145","146"],"import React, { useEffect, useState, useContext } from \"react\";\n// import io from 'socket.io-client';\nimport io from 'socket.io-client';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\n\nimport SocketContext from '../utilities/socket-context'\n\nimport {\n    DisplayConsoleList, \n    DisplayPlayerListDebug, \n    DisplayGameSettings,\n    EditGameSettings,\n    BlockModal,\n    DisplayTasks\n} from \"../utilities/lobbies.js\"\n\n\nfunction Dev() {\n    // player list state\n    const [playerList, setPlayerList] = useState([]);\n    const [consoleList, setConsoleList] = useState([]);\n    const [taskList, setTaskList] = useState([]);\n    const [gameSettings, setGameSettings] = useState(null);\n    const [gameState, setGameState] = useState(\"\");\n\n    \n    // const token = fromCookie('game-token');\n    const token = 'dev';\n\n    const socket = useContext(SocketContext);\n    \n    useEffect(() => {\n        socket.emit(\"go online\", {token: token});\n    }, []);\n\n    useEffect(() => {\n        socket.on(\"lobby update dev\", (data) => {\n            // update list\n            console.log(data);\n            setPlayerList(data.users);\n            setConsoleList(data.consoles);\n            setGameSettings(data.game_settings);\n            setGameState(data.game_state);\n            setTaskList(data.tasks);\n        });\n    });\n    \n    \n\n    return(\n        <Container>\n            <h1>Dev</h1>\n            <h4>Debug Tools</h4>\n            <Row>\n                <Col>\n                    <Button onClick={() => {\n                        let socket = io(\"http://192.168.0.30:5000\");\n                        socket.on('connect', function() {\n                            socket.emit('test', {data: 'Im connected!'});\n                        });\n                    }}>\n                        API Test\n                    </Button>\n                </Col>\n                <Col>\n                    <Button onClick={() => {\n                        // request options\n                        const requestOptions = {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({token: token, duration: 0})\n                        };\n\n                        // send request to api\n                        fetch(sessionStorage.getItem('api-host')+'api/start_game', requestOptions);\n                    }}>\n                        Start Game\n                    </Button>\n                </Col>\n                <Col>\n                    <Button onClick={() => {\n                        // request options\n                        const requestOptions = {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({token: token, state: 'game'})\n                        };\n\n                        // send request to api\n                        fetch(sessionStorage.getItem('api-host')+'api/change_state', requestOptions);\n                    }}>\n                        Set Game\n                    </Button>\n                </Col>\n                <Col>\n                    <Button onClick={() => {\n                        // request options\n                        const requestOptions = {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({token: token, state: 'lobby'})\n                        };\n\n                        // send request to api\n                        fetch(sessionStorage.getItem('api-host')+'api/change_state', requestOptions);\n                    }}>\n                        Set Lobby\n                    </Button>\n                </Col>\n                <Col>\n                    <Button onClick={() => {\n                        const requestOptions = {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({token: token})\n                        };\n\n                        fetch(sessionStorage.getItem('api-host')+'api/reset', requestOptions);\n                    }}>\n                        Reset\n                    </Button>\n                </Col>\n                <Col>\n                    <Button onClick={() => {\n                        const requestOptions = {\n                            method: 'GET'\n                        };\n\n                        fetch(sessionStorage.getItem('api-host')+'api/populate', requestOptions);\n                    }}>\n                        Populate\n                    </Button>\n                </Col>\n                <Col>\n                    Game State: {gameState}\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <h4>Players</h4>\n                    <DisplayPlayerListDebug list={playerList} editable={true} className=\"Lobby-table\"/>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <h4>Consoles</h4>\n                    <DisplayConsoleList list={consoleList} editable={true} debug={true} className=\"Lobby-table\"/>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <h4>Tasks</h4>\n                    <DisplayTasks task={taskList}/>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <h4>Game Settings</h4>\n                    <DisplayGameSettings settings={gameSettings}/>\n                </Col>\n            </Row>\n        </Container>\n\n    );\n}\n\n\nexport default Dev;","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Lobby.js",["147","148","149","150","151","152"],"import React, { useEffect, useState, useContext } from \"react\";\n// import io from 'socket.io-client';\nimport io from 'socket.io-client';\nimport Container from 'react-bootstrap/Container';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\n\nimport { useHistory } from \"react-router-dom\";\n\nimport {DisplayPlayerList, DisplayGameSettings, BlockModal} from \"../utilities/lobbies.js\"\nimport SocketContext from '../utilities/socket-context'\n\nfunction Lobby() {\n    // player list state\n    const [playerList, setPlayerList] = useState([]);\n    const [gameSettings, setGameSettings] = useState(null);\n    const [playerName, setPlayerName] = useState('');\n    const [dead, setDead] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n    const [countDown, setCountDown] = useState({time: null, countdown: null});\n    const [gameState, setGameState] = useState('');\n    const [remain ,setRemain] = useState(0);\n    \n    // const token = fromCookie('game-token');\n    const token = sessionStorage.getItem('game-token');\n    const history = useHistory();\n\n    // no token then return to homepage\n    if (token == null) {\n        history.push('/');\n    }\n\n    // let socket;\n    const socket = useContext(SocketContext);\n    \n    useEffect(() => {\n        socket.emit(\"go online\", {token: token, class: 'player'});\n    }, []);\n\n    useEffect(() => {\n        // when receiving a lobby list, update playerList state.\n        // If not successful, return to home page.\n        socket.on(\"lobby update\", (data) => {\n            if (data.success){\n                // update list\n                console.log(data);\n                setPlayerList(data.users);\n                for (const i in data.users) {\n                    if (data.users[i].token == token) {\n                        setPlayerName(data.users[i].name);\n                        setDead(data.users[i].dead);\n                        break;\n                    }\n                }\n                setGameSettings(data.game_settings);\n                setGameState(data.game_state);\n            } else {\n                // not authorised, return to index\n                history.push('/');\n            }\n        });\n    });\n\n\n    useEffect(() => {\n        if (socket){\n            socket.on('change state', (data) => {\n                if (data.state == 'game'){\n                    history.push('/game');\n                }\n            });\n        }\n    });\n\n    useEffect(() => {\n        let timer;\n        if (socket){\n            socket.on(\"start game\", (data) => {\n                setCountDown(data);\n                setShowModal(true);\n            });\n        }\n\n        // calculate time until\n        if (countDown.time != null && remain >= 0){\n            timer = setInterval(()=>{\n                const timeUntil = countDown.time + countDown.countdown*1000 - Date.now();  \n                setRemain(Math.max(Math.floor(timeUntil / 1000), 0));\n            }, 500);\n        }\n        \n        return () => clearInterval(timer);\n    }, [remain, countDown]);\n\n\n    return(\n        <Container>\n            <Jumbotron className=\"Login-jumbo\">\n                <h1>Lobby</h1>\n                <div>\n                    Your name is {playerName}.\n                    {dead &&\n                        <div>\n                            <p>You are dead :(</p>\n                        </div>\n                    }\n                    { (gameState == \"game\" && !dead) &&\n                        <div>\n                            <p>\n                            Looks like the game has started. Press the button below to join game.\n                            </p>\n                            <Button onClick={() => history.push('/game')}>\n                                Join\n                            </Button>\n                            \n                        </div>\n\n                    }\n                </div>\n            </Jumbotron>\n            <h4>Players</h4>\n            <DisplayPlayerList list={playerList} className=\"Lobby-table\"/>\n            <h4>Game Settings</h4>\n            <DisplayGameSettings settings={gameSettings}/>\n            <BlockModal show={showModal} remainingTime={remain} countDown={countDown}/>\n        </Container>\n    );\n}\n\n\nexport default Lobby;","/home/darentang/projects/real-life-among-us/frontend/app/src/components/Connect.js",["153","154","155"],"import React, { useEffect, useState, useContext } from \"react\";\n\n\n\n// boostrap components\nimport Container from 'react-bootstrap/Container'\nimport Jumbotron from 'react-bootstrap/Jumbotron'\nimport Form from 'react-bootstrap/Form'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\n\nimport {useForm} from 'react-hook-form';\n\n\n\nfunction Connect(props) {\n\n    const {register, handleSubmit} = useForm();\n    const [modalState, setModalState] = useState({show: false, message: ''});\n    const handleHide = () => {\n        setModalState({show: false, message: modalState.message});\n    }\n\n    function checkConnect(data) {\n        if (data.address == '') {\n            return;\n        }\n        // let address;\n        // if (data.port == ''){\n        //     address = data.protocol + data.address + '/';\n        // } else {\n        //     address = data.protocol + data.address + `:${data.port}/`;\n        // }\n        const address = data.address;\n        const requestOptions = {\n            method: 'POST', \n            headers: { 'Content-Type': 'application/json' }\n        };\n        console.log(address);\n        setModalState({show: true, message: 'Trying to connect...'});\n        fetch(address + 'api/check_connection', requestOptions).then(response => response.json()).then(data => {\n            if (data.success) {\n                setModalState({\n                    show:true, message: 'Connected to ' + address\n                });\n                sessionStorage.setItem('api-host', address);\n                props.setAddress(address);\n            }\n        }).catch(\n            error => {\n                setModalState({\n                    show: true, message: 'The following occurred while attempting to connect:\\n' + error\n                })\n            }\n        );   \n    };\n\n    return (\n        <Container>\n            <Jumbotron>\n                <h1>Connect</h1>\n\n                <Form onSubmit={handleSubmit(checkConnect)}>\n                    <Form.Group>\n                        <Form.Label>Server Address</Form.Label>\n                        <InputGroup>\n                            {/* <InputGroup.Prepend>\n                                <Form.Control as=\"select\" name='protocol' ref={register()} defaultValue=\"https://\">\n                                    <option>http://</option>\n                                    <option>https://</option>\n                                </Form.Control>\n                            </InputGroup.Prepend> */}\n                            <Form.Control name=\"address\" ref={register()} ></Form.Control>\n                            {/* <InputGroup.Append>\n                                <Form.Control name='port' ref={register()} defaultValue=\"5000\">\n                                </Form.Control>\n                            </InputGroup.Append> */}\n                        </InputGroup>\n                    </Form.Group>\n                    <Button type=\"submit\">Connect</Button>\n                </Form>\n            </Jumbotron>\n            <Modal show={modalState.show} onHide={handleHide} closeButton>\n                <Modal.Header>Information</Modal.Header>\n                <Modal.Body>{modalState.message}</Modal.Body>\n            </Modal>\n        </Container>\n    );\n}\n\nexport default Connect;",{"ruleId":"156","severity":1,"message":"157","line":29,"column":8,"nodeType":"158","endLine":29,"endColumn":10,"suggestions":"159"},{"ruleId":"160","replacedBy":"161"},{"ruleId":"162","replacedBy":"163"},{"ruleId":"164","severity":1,"message":"165","line":30,"column":9,"nodeType":"166","messageId":"167","endLine":30,"endColumn":16},{"ruleId":"156","severity":1,"message":"168","line":38,"column":6,"nodeType":"158","endLine":38,"endColumn":15,"suggestions":"169"},{"ruleId":"156","severity":1,"message":"170","line":82,"column":8,"nodeType":"158","endLine":82,"endColumn":10,"suggestions":"171"},{"ruleId":"172","severity":1,"message":"173","line":103,"column":23,"nodeType":"174","messageId":"175","endLine":103,"endColumn":25},{"ruleId":"156","severity":1,"message":"168","line":126,"column":8,"nodeType":"158","endLine":126,"endColumn":27,"suggestions":"176"},{"ruleId":"172","severity":1,"message":"173","line":134,"column":28,"nodeType":"174","messageId":"175","endLine":134,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":145,"column":28,"nodeType":"174","messageId":"175","endLine":145,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":165,"column":28,"nodeType":"174","messageId":"175","endLine":165,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":195,"column":78,"nodeType":"174","messageId":"175","endLine":195,"endColumn":80},{"ruleId":"172","severity":1,"message":"173","line":199,"column":80,"nodeType":"174","messageId":"175","endLine":199,"endColumn":82},{"ruleId":"172","severity":1,"message":"173","line":207,"column":28,"nodeType":"174","messageId":"175","endLine":207,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":233,"column":33,"nodeType":"174","messageId":"175","endLine":233,"endColumn":35},{"ruleId":"172","severity":1,"message":"173","line":239,"column":36,"nodeType":"174","messageId":"175","endLine":239,"endColumn":38},{"ruleId":"172","severity":1,"message":"173","line":248,"column":18,"nodeType":"174","messageId":"175","endLine":248,"endColumn":20},{"ruleId":"172","severity":1,"message":"177","line":273,"column":48,"nodeType":"174","messageId":"175","endLine":273,"endColumn":50},{"ruleId":"172","severity":1,"message":"177","line":334,"column":39,"nodeType":"174","messageId":"175","endLine":334,"endColumn":41},{"ruleId":"172","severity":1,"message":"173","line":334,"column":76,"nodeType":"174","messageId":"175","endLine":334,"endColumn":78},{"ruleId":"156","severity":1,"message":"178","line":341,"column":8,"nodeType":"158","endLine":341,"endColumn":10,"suggestions":"179"},{"ruleId":"172","severity":1,"message":"177","line":380,"column":30,"nodeType":"174","messageId":"175","endLine":380,"endColumn":32},{"ruleId":"172","severity":1,"message":"173","line":389,"column":24,"nodeType":"174","messageId":"175","endLine":389,"endColumn":26},{"ruleId":"172","severity":1,"message":"173","line":389,"column":46,"nodeType":"174","messageId":"175","endLine":389,"endColumn":48},{"ruleId":"172","severity":1,"message":"173","line":389,"column":68,"nodeType":"174","messageId":"175","endLine":389,"endColumn":70},{"ruleId":"172","severity":1,"message":"173","line":391,"column":27,"nodeType":"174","messageId":"175","endLine":391,"endColumn":29},{"ruleId":"172","severity":1,"message":"173","line":395,"column":27,"nodeType":"174","messageId":"175","endLine":395,"endColumn":29},{"ruleId":"172","severity":1,"message":"173","line":400,"column":25,"nodeType":"174","messageId":"175","endLine":400,"endColumn":27},{"ruleId":"172","severity":1,"message":"173","line":400,"column":61,"nodeType":"174","messageId":"175","endLine":400,"endColumn":63},{"ruleId":"172","severity":1,"message":"173","line":420,"column":25,"nodeType":"174","messageId":"175","endLine":420,"endColumn":27},{"ruleId":"172","severity":1,"message":"177","line":420,"column":61,"nodeType":"174","messageId":"175","endLine":420,"endColumn":63},{"ruleId":"156","severity":1,"message":"180","line":52,"column":8,"nodeType":"158","endLine":52,"endColumn":22,"suggestions":"181"},{"ruleId":"172","severity":1,"message":"173","line":120,"column":47,"nodeType":"174","messageId":"175","endLine":120,"endColumn":49},{"ruleId":"172","severity":1,"message":"173","line":122,"column":53,"nodeType":"174","messageId":"175","endLine":122,"endColumn":55},{"ruleId":"172","severity":1,"message":"173","line":142,"column":40,"nodeType":"174","messageId":"175","endLine":142,"endColumn":42},{"ruleId":"172","severity":1,"message":"173","line":143,"column":40,"nodeType":"174","messageId":"175","endLine":143,"endColumn":42},{"ruleId":"172","severity":1,"message":"173","line":150,"column":28,"nodeType":"174","messageId":"175","endLine":150,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":174,"column":40,"nodeType":"174","messageId":"175","endLine":174,"endColumn":42},{"ruleId":"172","severity":1,"message":"173","line":174,"column":68,"nodeType":"174","messageId":"175","endLine":174,"endColumn":70},{"ruleId":"172","severity":1,"message":"173","line":189,"column":48,"nodeType":"174","messageId":"175","endLine":189,"endColumn":50},{"ruleId":"172","severity":1,"message":"173","line":189,"column":76,"nodeType":"174","messageId":"175","endLine":189,"endColumn":78},{"ruleId":"172","severity":1,"message":"173","line":201,"column":28,"nodeType":"174","messageId":"175","endLine":201,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":201,"column":56,"nodeType":"174","messageId":"175","endLine":201,"endColumn":58},{"ruleId":"172","severity":1,"message":"173","line":234,"column":28,"nodeType":"174","messageId":"175","endLine":234,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":252,"column":35,"nodeType":"174","messageId":"175","endLine":252,"endColumn":37},{"ruleId":"172","severity":1,"message":"173","line":264,"column":40,"nodeType":"174","messageId":"175","endLine":264,"endColumn":42},{"ruleId":"172","severity":1,"message":"173","line":286,"column":43,"nodeType":"174","messageId":"175","endLine":286,"endColumn":45},{"ruleId":"172","severity":1,"message":"173","line":302,"column":27,"nodeType":"174","messageId":"175","endLine":302,"endColumn":29},{"ruleId":"172","severity":1,"message":"173","line":397,"column":27,"nodeType":"174","messageId":"175","endLine":397,"endColumn":29},{"ruleId":"172","severity":1,"message":"173","line":435,"column":27,"nodeType":"174","messageId":"175","endLine":435,"endColumn":29},{"ruleId":"172","severity":1,"message":"173","line":503,"column":22,"nodeType":"174","messageId":"175","endLine":503,"endColumn":24},{"ruleId":"164","severity":1,"message":"182","line":3,"column":8,"nodeType":"166","messageId":"167","endLine":3,"endColumn":10},{"ruleId":"172","severity":1,"message":"177","line":59,"column":33,"nodeType":"174","messageId":"175","endLine":59,"endColumn":35},{"ruleId":"156","severity":1,"message":"183","line":64,"column":8,"nodeType":"158","endLine":64,"endColumn":10,"suggestions":"184"},{"ruleId":"156","severity":1,"message":"185","line":66,"column":5,"nodeType":"166","endLine":66,"endColumn":14,"suggestions":"186"},{"ruleId":"172","severity":1,"message":"177","line":71,"column":36,"nodeType":"174","messageId":"175","endLine":71,"endColumn":38},{"ruleId":"172","severity":1,"message":"173","line":78,"column":35,"nodeType":"174","messageId":"175","endLine":78,"endColumn":37},{"ruleId":"172","severity":1,"message":"173","line":89,"column":32,"nodeType":"174","messageId":"175","endLine":89,"endColumn":34},{"ruleId":"172","severity":1,"message":"173","line":101,"column":35,"nodeType":"174","messageId":"175","endLine":101,"endColumn":37},{"ruleId":"172","severity":1,"message":"177","line":106,"column":35,"nodeType":"174","messageId":"175","endLine":106,"endColumn":37},{"ruleId":"172","severity":1,"message":"173","line":191,"column":37,"nodeType":"174","messageId":"175","endLine":191,"endColumn":39},{"ruleId":"172","severity":1,"message":"173","line":211,"column":38,"nodeType":"174","messageId":"175","endLine":211,"endColumn":40},{"ruleId":"156","severity":1,"message":"183","line":380,"column":8,"nodeType":"158","endLine":380,"endColumn":10,"suggestions":"187"},{"ruleId":"172","severity":1,"message":"173","line":384,"column":33,"nodeType":"174","messageId":"175","endLine":384,"endColumn":35},{"ruleId":"172","severity":1,"message":"173","line":386,"column":39,"nodeType":"174","messageId":"175","endLine":386,"endColumn":41},{"ruleId":"172","severity":1,"message":"173","line":388,"column":39,"nodeType":"174","messageId":"175","endLine":388,"endColumn":41},{"ruleId":"172","severity":1,"message":"173","line":404,"column":28,"nodeType":"174","messageId":"175","endLine":404,"endColumn":30},{"ruleId":"172","severity":1,"message":"173","line":406,"column":34,"nodeType":"174","messageId":"175","endLine":406,"endColumn":36},{"ruleId":"172","severity":1,"message":"173","line":408,"column":34,"nodeType":"174","messageId":"175","endLine":408,"endColumn":36},{"ruleId":"172","severity":1,"message":"177","line":467,"column":42,"nodeType":"174","messageId":"175","endLine":467,"endColumn":44},{"ruleId":"160","replacedBy":"188"},{"ruleId":"162","replacedBy":"189"},{"ruleId":"164","severity":1,"message":"190","line":1,"column":38,"nodeType":"166","messageId":"167","endLine":1,"endColumn":48},{"ruleId":"172","severity":1,"message":"173","line":112,"column":35,"nodeType":"174","messageId":"175","endLine":112,"endColumn":37},{"ruleId":"172","severity":1,"message":"173","line":114,"column":43,"nodeType":"174","messageId":"175","endLine":114,"endColumn":45},{"ruleId":"156","severity":1,"message":"178","line":120,"column":8,"nodeType":"158","endLine":120,"endColumn":10,"suggestions":"191"},{"ruleId":"172","severity":1,"message":"173","line":159,"column":24,"nodeType":"174","messageId":"175","endLine":159,"endColumn":26},{"ruleId":"172","severity":1,"message":"173","line":161,"column":31,"nodeType":"174","messageId":"175","endLine":161,"endColumn":33},{"ruleId":"160","replacedBy":"192"},{"ruleId":"162","replacedBy":"193"},{"ruleId":"164","severity":1,"message":"194","line":16,"column":5,"nodeType":"166","messageId":"167","endLine":16,"endColumn":21},{"ruleId":"164","severity":1,"message":"195","line":17,"column":5,"nodeType":"166","messageId":"167","endLine":17,"endColumn":15},{"ruleId":"156","severity":1,"message":"168","line":38,"column":8,"nodeType":"158","endLine":38,"endColumn":10,"suggestions":"196"},{"ruleId":"164","severity":1,"message":"182","line":3,"column":8,"nodeType":"166","messageId":"167","endLine":3,"endColumn":10},{"ruleId":"156","severity":1,"message":"170","line":38,"column":8,"nodeType":"158","endLine":38,"endColumn":10,"suggestions":"197"},{"ruleId":"172","severity":1,"message":"173","line":49,"column":45,"nodeType":"174","messageId":"175","endLine":49,"endColumn":47},{"ruleId":"172","severity":1,"message":"173","line":68,"column":32,"nodeType":"174","messageId":"175","endLine":68,"endColumn":34},{"ruleId":"156","severity":1,"message":"168","line":93,"column":8,"nodeType":"158","endLine":93,"endColumn":27,"suggestions":"198"},{"ruleId":"172","severity":1,"message":"173","line":107,"column":34,"nodeType":"174","messageId":"175","endLine":107,"endColumn":36},{"ruleId":"164","severity":1,"message":"199","line":1,"column":17,"nodeType":"166","messageId":"167","endLine":1,"endColumn":26},{"ruleId":"164","severity":1,"message":"190","line":1,"column":38,"nodeType":"166","messageId":"167","endLine":1,"endColumn":48},{"ruleId":"172","severity":1,"message":"173","line":26,"column":26,"nodeType":"174","messageId":"175","endLine":26,"endColumn":28},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["200"],"no-native-reassign",["201"],"no-negated-in-lhs",["202"],"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.",["203"],"React Hook useEffect has missing dependencies: 'socket' and 'token'. Either include them or remove the dependency array.",["204"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["205"],"Expected '!==' and instead saw '!='.","React Hook useEffect has missing dependencies: 'history' and 'token'. Either include them or remove the dependency array.",["206"],"React Hook useEffect has a missing dependency: 'expiry'. Either include it or remove the dependency array.",["207"],"'io' is defined but never used.","React Hook useEffect has missing dependencies: 'history', 'socket', and 'token'. Either include them or remove the dependency array.",["208"],"React Hook useEffect contains a call to 'setDisable'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [socket, tally.tally, profile.id] as a second argument to the useEffect Hook.",["209"],["210"],["201"],["202"],"'useContext' is defined but never used.",["211"],["201"],["202"],"'EditGameSettings' is defined but never used.","'BlockModal' is defined but never used.",["212"],["213"],["214"],"'useEffect' is defined but never used.",{"desc":"215","fix":"216"},"no-global-assign","no-unsafe-negation",{"desc":"217","fix":"218"},{"desc":"219","fix":"220"},{"desc":"221","fix":"222"},{"desc":"223","fix":"224"},{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"227","fix":"231"},{"desc":"223","fix":"232"},{"desc":"233","fix":"234"},{"desc":"219","fix":"235"},{"desc":"221","fix":"236"},"Update the dependencies array to be: [history]",{"range":"237","text":"238"},"Update the dependencies array to be: [address, socket]",{"range":"239","text":"240"},"Update the dependencies array to be: [socket, token]",{"range":"241","text":"242"},"Update the dependencies array to be: [remain, countDown, socket]",{"range":"243","text":"244"},"Update the dependencies array to be: [history, token]",{"range":"245","text":"246"},"Update the dependencies array to be: [expiry, props.expiry]",{"range":"247","text":"248"},"Update the dependencies array to be: [history, socket, token]",{"range":"249","text":"250"},"Add dependencies array: [socket, tally.tally, profile.id]",{"range":"251","text":"252"},{"range":"253","text":"250"},{"range":"254","text":"246"},"Update the dependencies array to be: [socket]",{"range":"255","text":"256"},{"range":"257","text":"242"},{"range":"258","text":"244"},[974,976],"[history]",[1005,1014],"[address, socket]",[2338,2340],"[socket, token]",[3628,3647],"[remain, countDown, socket]",[11600,11602],"[history, token]",[1559,1573],"[expiry, props.expiry]",[2133,2135],"[history, socket, token]",[2708,2708],", [socket, tally.tally, profile.id]",[15044,15046],[3982,3984],[1068,1070],"[socket]",[1377,1379],[3050,3069]]